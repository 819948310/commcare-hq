{% extends 'hqwebapp/base_page.html' %}
{% load hq_shared_tags %}

{% block page_content %}
    <div>
        <h2>Progress</h2>
    </div>
    <div>Task ID: {{ task_id }}</div>
    <div>Success: {{ success }}</div>
    <div>Fail: {{ fail }}</div>
    <div>Total: {{ total }}</div>
    <div>Batches Processed: {{ batches }}</div>
    <div>Elapsed Time: {{ time }}</div>
    <div class="progress">
        <div class="progress-bar progress-bar-success" role="progressbar" style="width: {{ success_pct }}%" aria-valuenow="{{ success_pct }}" aria-valuemin="0" aria-valuemax="100"></div>
        <div class="progress-bar progress-bar-danger" role="progressbar" style="width: {{ fail_pct }}%" aria-valuenow="{{ fail_pct }}" aria-valuemin="0" aria-valuemax="100"></div>
    </div>

    <div>
        <h2>Errors</h2>
    </div>
    <table class="table">
        <thead>
            <tr>
                <th>Case ID</th>
                <th>Domain</th>
                <th>Updater Class</th>
                <th>Error</th>
            </tr>
        </thead>
        <tbody>
            {% for e in errors %}
                <tr>
                    {% for item in e %}
                        <td>{{ item }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
